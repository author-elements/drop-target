{"version":3,"file":"author-draggable.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorDraggableElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineAttributes({\n      direction: {\n        default: null\n      },\n\n      disabled: {\n        default: false\n      },\n\n      free: {\n        default: false\n      },\n\n      'max-drag-distance': {\n        default: null\n      },\n\n      'min-drag-distance': {\n        default: null\n      },\n\n      type: {\n        default: null\n      },\n    })\n\n    this.UTIL.defineProperties({\n      acceptedConstraintKeys: {\n        private: true,\n        readonly: true,\n        default: [\n          'x',\n          'y',\n          'up',\n          'right',\n          'down',\n          'left'\n        ]\n      },\n\n      canDrop: {\n        private: true,\n        default: false\n      },\n\n      clone: {\n        private: true,\n        default: null\n      },\n\n      constraints: {\n        private: true,\n        readonly: true,\n        get: () => {\n          if (!this.direction) {\n            return null\n          }\n\n          return this.direction.replace(/\\s+/g,' ').trim().split(' ')\n        }\n      },\n\n      data: {\n        default: null\n      },\n\n      dimensions: {\n        private: true,\n        readonly: true,\n        get: () => this.getBoundingClientRect()\n      },\n\n      dragArea: {\n        private: true,\n        readonly: true,\n        get: () => {\n          let dragAreas = document.querySelectorAll('author-dragarea')\n\n          for (let dragArea of dragAreas) {\n            if (dragArea.contains(this)) {\n              return dragArea\n            }\n          }\n\n          return document.body\n        }\n      },\n\n      dragIsActive: {\n        private: true,\n        default: false\n      },\n\n      dropTargets: {\n        private: true,\n        default: null\n      },\n\n      initialPosition: {\n        private: true,\n        default: null\n      },\n\n      initialTimestamp: {\n        private: true,\n        default: null\n      },\n\n      pointerEventsSupported: {\n        private: true,\n        readonly: true,\n        default: window.PointerEvent === undefined ? false : true\n      },\n\n      pointerOffset: {\n        private: true,\n        default: null\n      },\n\n      userIsTouching: {\n        private: true,\n        default: false\n      },\n\n      types: {\n        private: true,\n        readonly: true,\n        get: () => {\n          if (!this.type) {\n            return null\n          }\n\n          return this.type.replace(/\\s+/g,' ').trim().split(' ')\n        }\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      forwardEvent: (evt, newEvtName, detail = {}, target = this) => {\n        evt.preventDefault()\n\n        detail.originalEvent = evt\n\n        if (!this.PRIVATE.pointerEventsSupported) {\n          this.emit(newEvtName, detail, target)\n        }\n      },\n\n      // Polyfill for Firefox bug from 2002 :|\n      // window.getComputedStyle(el).cssText returns \"\"\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=137687\n      getComputedStylesCssText: element => {\n        let computed = window.getComputedStyle(element)\n        let acc = []\n\n        if (computed.cssText !== '') {\n          return computed.cssText\n        }\n\n        for (let property in computed) {\n          if (typeof computed[property] === 'string') {\n            acc.push(`${property}: ${computed[property]}`)\n          }\n        }\n\n        return acc.join('; ')\n      },\n\n      handshakeAcceptedHandler: evt => {\n        let { dropTarget } = evt.detail\n\n        this.PRIVATE.dropTargets.push(dropTarget)\n        dropTarget.on('drop.allow', evt => this.PRIVATE.canDrop = true)\n        dropTarget.on('drop.deny', evt => this.PRIVATE.canDrop = false)\n      },\n\n      initializeClone: () => {\n        this.setAttribute('dragging', '')\n\n        this.PRIVATE.clone = this.cloneNode(true)\n        this.PRIVATE.synchronizeStyles()\n        this.PRIVATE.clone.sourceElement = this\n\n        this.removeAttribute('dragging')\n        this.PRIVATE.clone.setAttribute('clone', '')\n\n        document.body.appendChild(this.PRIVATE.clone)\n      },\n\n      pointerupHandler: evt => {\n        let dragendEvent = new CustomEvent('drag.end', this.PRIVATE.getEventData(evt, {\n          drag: {\n            distance: this.PRIVATE.getDragDistance(evt),\n            duration: evt.timeStamp - this.PRIVATE.initialTimestamp\n          },\n          position: this.PRIVATE.getPointerPosition(evt, false)\n        }))\n\n        this.emit(dragendEvent)\n        this.PRIVATE.reset()\n      },\n\n      mouseupHandler: evt => {\n        this.PRIVATE.forwardEvent(evt, 'pointerup', {}, document.body)\n      },\n\n      touchendHandler: evt => {\n        // document.removeEventListener(this.PRIVATE.pointerEventsSupported ? 'pointermove' : 'mousemove', this.PRIVATE.pointerMoveHandler)\n      },\n\n      applyBodyListeners: () => {\n        document.body.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n        document.body.addEventListener('mouseup', this.PRIVATE.mouseupHandler)\n        document.body.addEventListener('touchend', this.PRIVATE.touchendHandler)\n      },\n\n      removeBodyListeners: () => {\n        document.body.removeEventListener('pointerup', this.PRIVATE.pointerupHandler)\n        document.body.removeEventListener('mouseup', this.PRIVATE.mouseupHandler)\n        document.body.removeEventListener('touchend', this.PRIVATE.touchendHandler)\n        document.body.removeEventListener(this.PRIVATE.pointerEventsSupported ? 'pointermove' : 'mousemove', this.PRIVATE.pointerMoveHandler)\n      },\n\n      initiateDrag: () => {\n        this.PRIVATE.applyBodyListeners()\n\n        this.setAttribute(this.free ? 'dragging' : 'ghost', '')\n        this.PRIVATE.dragIsActive = true\n        // this.emit(new CustomEvent('after.drag.start', this.PRIVATE.getEventData(evt, {\n        //\n        // })))\n      },\n\n      getRelativePointerPosition: (relWidth, relHeight, left, top) => {\n        let right = relWidth - left\n        let bottom = relHeight - top\n\n        return {\n          x: left,\n          y: top,\n\n          top: {\n            px: top,\n            pct: this.UTIL.getPercentageDecimal(top, relHeight)\n          },\n\n          right: {\n            px: right,\n            pct: this.UTIL.getPercentageDecimal(right, relWidth)\n          },\n\n          bottom: {\n            px: bottom,\n            pct: this.UTIL.getPercentageDecimal(bottom, relHeight)\n          },\n\n          left: {\n            px: left,\n            pct: this.UTIL.getPercentageDecimal(left, relWidth)\n          }\n        }\n      },\n\n      getPercentageDecimal: (portion, whole, decimalPlaces = null) => {\n        let decimal = portion / whole\n\n        if (decimal < 0) {\n          return 0\n        }\n\n        if (decimalPlaces !== null) {\n          return decimal.toFixed(decimalPlaces)\n        }\n\n        return decimal\n      },\n\n      getPointerPosition: (evt, offset = true, client = true, doc = true,) => {\n        let obj = {}\n\n        if (offset) {\n          obj.offset = this.PRIVATE.getRelativePointerPosition(this.offsetWidth, this.offsetHeight, evt.offsetX, evt.offsetY)\n        }\n\n        if (client) {\n          obj.client = this.PRIVATE.getRelativePointerPosition(document.documentElement.clientWidth, document.documentElement.clientHeight, evt.clientX, evt.clientY)\n        }\n\n        if (doc) {\n          obj.document = this.PRIVATE.getRelativePointerPosition(document.documentElement.scrollWidth, document.documentElement.scrollHeight, evt.pageX, evt.pageY)\n        }\n\n        return obj\n      },\n\n      getEventData: (evt, props = {}) => {\n        let config = {\n          cancelable: true,\n          composed: true,\n\n          detail: Object.assign({}, {\n            altKey: evt.altKey,\n            ctrlKey: evt.ctrlKey,\n            metaKey: evt.metaKey,\n            shiftKey: evt.shiftKey,\n            types: this.PRIVATE.types\n          }, props)\n        }\n\n        Object.defineProperty(config.detail, 'data', {\n          set: value => this.data = value,\n          get: () => this.data\n        })\n\n        return config\n      },\n\n      pointerMoveHandler: evt => {\n        if (!this.PRIVATE.dragIsActive) {\n          if (!this.free) {\n            this.PRIVATE.initializeClone()\n          }\n\n          let dragstartEvent = new CustomEvent('drag.start', this.PRIVATE.getEventData(evt, {\n            position: this.PRIVATE.getPointerPosition(evt)\n          }))\n\n          this.emit(dragstartEvent)\n\n          if (dragstartEvent.defaultPrevented) {\n            return\n          }\n\n          this.PRIVATE.initiateDrag()\n        }\n\n        let dragEvent = new CustomEvent('drag', this.PRIVATE.getEventData(evt, {\n          canDrop: this.PRIVATE.canDrop,\n          drag: {\n            distance: this.PRIVATE.getDragDistance(evt),\n            duration: evt.timeStamp - this.PRIVATE.initialTimestamp\n          },\n          position: this.PRIVATE.getPointerPosition(evt, false)\n        }))\n\n        this.emit(dragEvent)\n\n        if (dragEvent.defaultPrevented) {\n          return\n        }\n\n        this.PRIVATE.updatePosition(evt)\n      },\n\n      getDragDistance: evt => ({\n        x: Math.abs(this.PRIVATE.initialPosition.x - evt.pageX),\n        y: Math.abs(this.PRIVATE.initialPosition.y - evt.pageY)\n      }),\n\n      reset: () => {\n        if (this.free) {\n          this.removeAttribute('dragging')\n        } else {\n          this.removeAttribute('ghost')\n\n          if (this.PRIVATE.clone !== null) {\n            document.body.removeChild(this.PRIVATE.clone)\n            this.PRIVATE.clone = null\n          }\n        }\n\n        this.PRIVATE.dragIsActive = false\n        this.PRIVATE.pointerOffset = null\n        this.PRIVATE.removeBodyListeners()\n        this.PRIVATE.dropTargets = null\n        this.PRIVATE.initialPosition = null\n        this.PRIVATE.initialTimestamp = null\n      },\n\n      storeDropTargets: () => {\n        this.PRIVATE.dropTargets = []\n        let allDropTargets = document.querySelectorAll('author-droptarget')\n\n        this.on('handshake.accepted', this.PRIVATE.handshakeAcceptedHandler)\n\n        for (let dropTarget of allDropTargets) {\n          this.emit('handshake.offered', {\n            draggable: this,\n            types: this.PRIVATE.types\n          }, dropTarget)\n        }\n\n        this.off('handshake.accepted', this.PRIVATE.handshakeHandler)\n      },\n\n      synchronizeStyles: () => {\n        let { clone, getComputedStylesCssText } = this.PRIVATE\n\n        clone.style.cssText = getComputedStylesCssText(this)\n\n        let children = this.getElementsByTagName('*')\n        let cloneChildren = clone.getElementsByTagName('*')\n\n        if (children.length > 0) {\n          for (let i = 0; i < children.length; i++) {\n            cloneChildren[i].style.cssText = getComputedStylesCssText(children[i])\n          }\n        }\n      },\n\n      updatePosition: evt => {\n        let { clone, dimensions, originalCoordinates, pointerOffset } = this.PRIVATE\n        let newCoordinates = {\n          x: evt.clientX - pointerOffset.x,\n          y: evt.clientY - pointerOffset.y\n        }\n\n        if (this.free) {\n          newCoordinates = {\n            x: newCoordinates.x - (originalCoordinates.x - window.scrollX),\n            y: newCoordinates.y - (originalCoordinates.y - window.scrollY)\n          }\n\n          return this.UTIL.setStyleProperty('dragging', 'transform', `translate(${newCoordinates.x}px, ${newCoordinates.y}px)`)\n        }\n\n        clone.UTIL.setStyleProperties('dragging', [\n          {\n            name: 'left',\n            value: `${newCoordinates.x}px`,\n            important: true\n          },\n          {\n            name: 'top',\n            value: `${newCoordinates.y}px`,\n            important: true\n          }\n        ])\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.changed': evt => {\n        let { attribute, newValue, oldValue } = evt.detail\n\n        switch (attribute) {\n          case 'free':\n            if (!this.free) {\n              this.UTIL.removeStyleProperty('dragging', 'transform')\n            }\n            break\n        }\n      },\n\n      connected: () => {\n        this.UTIL.insertStyleRule('dragging', ':host {}')\n\n        this.emit('author-draggable.connected', {\n          draggable: this\n        }, window)\n      },\n\n      mousedown: evt => {\n        if (this.PRIVATE.userIsTouching) {\n          return evt.preventDefault()\n        }\n\n        this.PRIVATE.forwardEvent(evt, 'pointerdown')\n      },\n\n      touchstart: evt => {\n        evt.preventDefault()\n        this.PRIVATE.userIsTouching = true\n        this.PRIVATE.forwardEvent(evt, 'pointerdown')\n      },\n\n      pointerup: evt => {\n        this.PRIVATE.reset()\n      },\n\n      pointerdown: evt => {\n        let client = {}\n\n        this.PRIVATE.initialTimestamp = evt.timeStamp\n\n        if (evt instanceof CustomEvent) {\n          client.x = evt.detail.originalEvent.clientX\n          client.y = evt.detail.originalEvent.clientY\n        } else {\n          client.x = evt.clientX\n          client.y = evt.clientY\n        }\n\n        this.PRIVATE.initialPosition = {\n          x: client.x,\n          y: client.y\n        }\n\n        this.PRIVATE.pointerOffset = {\n          x: client.x - this.PRIVATE.dimensions.left,\n          y: client.y - this.PRIVATE.dimensions.top\n        }\n\n        document.body.addEventListener(this.PRIVATE.pointerEventsSupported ? 'pointermove' : 'mousemove', this.PRIVATE.pointerMoveHandler)\n        this.PRIVATE.storeDropTargets()\n      },\n\n      rendered: () => {\n        this.UTIL.defineProperty('originalCoordinates', {\n          private: true,\n          readonly: true,\n          default: {\n            x: this.PRIVATE.dimensions.left + window.scrollX,\n            y: this.PRIVATE.dimensions.top + window.scrollY\n          }\n        })\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['direction', 'disabled', 'free', 'min-drag-distance', 'max-drag-distance', 'type']\n  }\n}\n\ncustomElements.define('author-draggable', AuthorDraggableElement)\n\nexport default AuthorDraggableElement\n"],"names":["AuthorDraggableElement","UTIL","defineAttributes","direction","default","disabled","free","type","defineProperties","acceptedConstraintKeys","private","readonly","canDrop","clone","constraints","get","replace","trim","split","data","dimensions","getBoundingClientRect","dragArea","dragAreas","document","querySelectorAll","contains","body","dragIsActive","dropTargets","initialPosition","initialTimestamp","pointerEventsSupported","window","PointerEvent","undefined","pointerOffset","userIsTouching","types","definePrivateMethods","forwardEvent","evt","newEvtName","detail","target","preventDefault","originalEvent","PRIVATE","emit","getComputedStylesCssText","element","computed","getComputedStyle","acc","cssText","property","push","join","handshakeAcceptedHandler","dropTarget","on","initializeClone","setAttribute","cloneNode","synchronizeStyles","sourceElement","removeAttribute","appendChild","pointerupHandler","dragendEvent","CustomEvent","getEventData","drag","distance","getDragDistance","duration","timeStamp","position","getPointerPosition","reset","mouseupHandler","touchendHandler","applyBodyListeners","addEventListener","removeBodyListeners","removeEventListener","pointerMoveHandler","initiateDrag","getRelativePointerPosition","relWidth","relHeight","left","top","right","bottom","x","y","px","pct","getPercentageDecimal","portion","whole","decimalPlaces","decimal","toFixed","offset","client","doc","obj","offsetWidth","offsetHeight","offsetX","offsetY","documentElement","clientWidth","clientHeight","clientX","clientY","scrollWidth","scrollHeight","pageX","pageY","props","config","cancelable","composed","Object","assign","altKey","ctrlKey","metaKey","shiftKey","defineProperty","set","value","dragstartEvent","defaultPrevented","dragEvent","updatePosition","Math","abs","removeChild","storeDropTargets","allDropTargets","draggable","off","handshakeHandler","style","children","getElementsByTagName","cloneChildren","length","i","originalCoordinates","newCoordinates","scrollX","scrollY","setStyleProperty","setStyleProperties","name","important","registerListeners","attribute","newValue","oldValue","removeStyleProperty","connected","insertStyleRule","mousedown","touchstart","pointerup","pointerdown","rendered","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}